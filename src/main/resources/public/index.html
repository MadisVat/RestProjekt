<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- <script src = "getbalance.js"></script>-->
</head>
<body>

<br/>
<br/>
<p id="lihtsalt_tekst1">
    WELCOME TO THE BANK!
</p>
<br/>
<p id="lihtsalt_tekst2">
    Your account balance.
</p>

<!-- Fetch: getBalance -->

<input id="balance_input" placeholder="Enter account number"/>

<button id="balance_button">
    Get account balance
</button>

<p id="output_text_balance">
    ...........</p>
<br/>
<br/>
<script>

    let balance_account_variable = document.getElementById("balance_input");
    let balance_button = document.getElementById("balance_button");

    let balance_output = document.getElementById("output_text_balance");

    balance_button.onclick = function () {
        fetch("balance/" + balance_account_variable.value, {
            method: 'GET',
            cache: 'no-cache',
            headers: {
                'Content-Type': 'application/json'
            },
        })
            .then(function (response) {
                return response.json();
            })
            .then(function (jsonData) {
                console.log(jsonData);
                balance_output.innerHTML = jsonData;
            })
            .catch(function (err) {
                messages.innerText = 'This does not seem right';
            });
    };

</script>


<!-- Fetch: depositMoney -->
<p id="lihtsalt_tekst3">
    Deposit funds.
</p>


<input id="deposit_account_variable" placeholder="Enter account number"/>
<input id="deposit_amount_variable" placeholder="Enter deposit amount"/>
<button id="deposit_button">
    Deposit Money
</button>

<p id="output_text_newbalance">
    Write new balance here</p>


<script>

    /*@PutMapping("deposit/{accountNumber}")*/
    let deposit_account_variable = document.getElementById("deposit_account_variable");
    let deposit_amount_variable = document.getElementById("deposit_amount_variable"); /*see l√§heb bodysse*/
    let deposit_button = document.getElementById("deposit_button");

    let new_balance_output = document.getElementById("output_text_newbalance");
    
    deposit_button.onclick = function () {
        fetch("deposit/" + deposit_account_variable.value, {
            method: 'PUT',
            cache: 'no-cache',
            headers: {
                'Content-Type': 'application/json'
            },
        })
            .then(function (response) {
                return response.json();
            })
            .then(function (jsonData) {
                console.log(jsonData);
                new_balance_output.innerHTML = jsonData;
            })
            .catch(function (err) {
                messages.innerText = 'This does not seem right';
            });
    };

</script>


</body>
</html>

